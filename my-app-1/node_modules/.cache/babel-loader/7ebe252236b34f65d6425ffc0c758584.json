{"ast":null,"code":"var axios=require('axios');var envProcess=require('../../configs');var client=axios.create({baseURL:\"http://\".concat(envProcess.default.apiGateway.URL),headers:{'Authorization':\"Bearer \".concat(envProcess.default.apiGateway.KEY)},timeout:20000});if(process.env.NODE_ENV!=='production'){require('axios-debug-log').addLogger(client);}client.interceptors.request.use(function(config){config.metadata={startTime:new Date()};return config;},function(error){return Promise.reject(error);});// Intercept all responses\nclient.interceptors.response.use(function(response){response.error=false;return response;},function(error){if(error.code){if(error.code==='ECONNABORTED'){error.status=504;console.log(error);}}else{console.log(error);error.status=error.response.status;}if(error.status===500){console.log(error.response);error.data=error.response.data;}else if(error.status===504){console.log(error);}else{error.data=error.response.data;}error.error=true;return error;});module.exports={client:client,axios:axios};","map":{"version":3,"sources":["/home/rodrigo.silva/htdocs/curso-react/my-app-1/src/http/client/F1_index.js"],"names":["axios","require","envProcess","client","create","baseURL","default","apiGateway","URL","headers","KEY","timeout","process","env","NODE_ENV","addLogger","interceptors","request","use","config","metadata","startTime","Date","error","Promise","reject","response","code","status","console","log","data","module","exports"],"mappings":"AAAA,GAAMA,CAAAA,KAAK,CAAGC,OAAO,CAAC,OAAD,CAArB,CACA,GAAMC,CAAAA,UAAU,CAAGD,OAAO,CAAC,eAAD,CAA1B,CAEA,GAAME,CAAAA,MAAM,CAAGH,KAAK,CAACI,MAAN,CAAa,CACxBC,OAAO,kBAAYH,UAAU,CAACI,OAAX,CAAmBC,UAAnB,CAA8BC,GAA1C,CADiB,CAExBC,OAAO,CAAE,CACL,iCAA2BP,UAAU,CAACI,OAAX,CAAmBC,UAAnB,CAA8BG,GAAzD,CADK,CAFe,CAKxBC,OAAO,CAAE,KALe,CAAb,CAAf,CAQA,GAAIC,OAAO,CAACC,GAAR,CAAYC,QAAZ,GAAyB,YAA7B,CAA2C,CACvCb,OAAO,CAAC,iBAAD,CAAP,CAA2Bc,SAA3B,CAAqCZ,MAArC,EACH,CAEDA,MAAM,CAACa,YAAP,CAAoBC,OAApB,CAA4BC,GAA5B,CAAgC,SAACC,MAAD,CAAY,CACxCA,MAAM,CAACC,QAAP,CAAkB,CAAEC,SAAS,CAAE,GAAIC,CAAAA,IAAJ,EAAb,CAAlB,CACA,MAAOH,CAAAA,MAAP,CACH,CAHD,CAGG,SAACI,KAAD,CAAW,CACV,MAAOC,CAAAA,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP,CACH,CALD,EAOA;AACApB,MAAM,CAACa,YAAP,CAAoBU,QAApB,CAA6BR,GAA7B,CACI,SAACQ,QAAD,CAAc,CACVA,QAAQ,CAACH,KAAT,CAAiB,KAAjB,CACA,MAAOG,CAAAA,QAAP,CACH,CAJL,CAKI,SAACH,KAAD,CAAW,CACP,GAAGA,KAAK,CAACI,IAAT,CAAc,CACX,GAAGJ,KAAK,CAACI,IAAN,GAAe,cAAlB,CAAiC,CAChCJ,KAAK,CAACK,MAAN,CAAe,GAAf,CACAC,OAAO,CAACC,GAAR,CAAYP,KAAZ,EACA,CACH,CALD,IAKK,CACDM,OAAO,CAACC,GAAR,CAAYP,KAAZ,EACAA,KAAK,CAACK,MAAN,CAAeL,KAAK,CAACG,QAAN,CAAeE,MAA9B,CACH,CAED,GAAIL,KAAK,CAACK,MAAN,GAAiB,GAArB,CAA0B,CACtBC,OAAO,CAACC,GAAR,CAAYP,KAAK,CAACG,QAAlB,EACAH,KAAK,CAACQ,IAAN,CAAaR,KAAK,CAACG,QAAN,CAAeK,IAA5B,CACH,CAHD,IAGM,IAAGR,KAAK,CAACK,MAAN,GAAiB,GAApB,CAAwB,CAC1BC,OAAO,CAACC,GAAR,CAAYP,KAAZ,EACH,CAFK,IAED,CACDA,KAAK,CAACQ,IAAN,CAAaR,KAAK,CAACG,QAAN,CAAeK,IAA5B,CACH,CACDR,KAAK,CAACA,KAAN,CAAc,IAAd,CACA,MAAOA,CAAAA,KAAP,CACH,CA1BL,EA6BAS,MAAM,CAACC,OAAP,CAAiB,CAAE9B,MAAM,CAANA,MAAF,CAAUH,KAAK,CAALA,KAAV,CAAjB","sourcesContent":["const axios = require('axios')\nconst envProcess = require('../../configs')\n\nconst client = axios.create({\n    baseURL: `http://${envProcess.default.apiGateway.URL}`,\n    headers: {\n        'Authorization': `Bearer ${envProcess.default.apiGateway.KEY}`\n    },\n    timeout: 20000\n})\n\nif (process.env.NODE_ENV !== 'production') {\n    require('axios-debug-log').addLogger(client)\n}\n\nclient.interceptors.request.use((config) => {\n    config.metadata = { startTime: new Date() }\n    return config\n}, (error) => {\n    return Promise.reject(error)\n})\n\n// Intercept all responses\nclient.interceptors.response.use(\n    (response) => {\n        response.error = false\n        return response\n    },\n    (error) => {\n        if(error.code){\n           if(error.code === 'ECONNABORTED'){\n            error.status = 504\n            console.log(error)\n           }\n        }else{\n            console.log(error)\n            error.status = error.response.status\n        }\n        \n        if (error.status === 500) {\n            console.log(error.response)\n            error.data = error.response.data\n        }else if(error.status === 504){\n            console.log(error)\n        }else{\n            error.data = error.response.data\n        }\n        error.error = true\n        return error\n    }\n)\n\nmodule.exports = { client, axios }"]},"metadata":{},"sourceType":"module"}